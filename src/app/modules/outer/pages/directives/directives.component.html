<app-base-page
  [pageTitle]="'Directivas'"
  [steps]="steps"
>
  <!--WHATSECTION-->
  <app-section
    id="'whatSection'"
    [sectionId]="'whatSection'"
    [sectionLabel]="'¿Qué son las directivas'"
    [sectionTitle]="'¿Qué son las directivas en Angular 20?'"
    [sectionContent]="''"
  >
    <p>Una directiva es una instrucción que le dice a Angular cómo manipular el DOM (Document Object Model). En otras palabras, extiende el comportamiento de los elementos HTML o de tus componentes personalizados.</p>
    <p>Las directivas pueden:</p>
    <ul>
      <li>Cambiar la apariencia de un elemento</li>
      <li>Cambiar su comportamiento</li>
      <li>Crear estructuras dinámicas</li>
    </ul>
  </app-section>
  <!--TIPOSDEDIRECTIVASSECTION-->
  <app-section
    id="'tiposSection'"
    [sectionId]="'tiposSection'"
    [sectionLabel]="'Tipos de directivas'"
    [sectionTitle]="'Tipos de directivas'"
    [sectionContent]="''"
  >
    <h5>1. Directivas de componente (Component directives)</h5>
    <p>Son directivas con plantilla.</p>
    <p>De hecho, todo componente en Angular es una directiva + una vista.</p>
    <ul>
      <li>Tienen selector</li>
      <li>Ofrecen HTML propio</li>
      <li>Controlan una plantilla completa</li>
    </ul>
    <h5>2. Directivas estructurales (Structural directives)</h5>
    <p>Cambian la estructura del DOM: agregan, quitan o reemplazan elementos.</p>
    <p>Siempre llevan un asterisco <code>*</code> cuando se usan.</p>
    <p>Ejemplo: *ngIf, *ngFor, *ngSwitch</p>
    <p>Ejemplo de una directiva estructural personalizada:</p>
    <app-sc-code-snippet
        [code]="directive01Example"
        language="typescript"
      >
      </app-sc-code-snippet>
      <p>Uso:</p>
      <app-sc-code-snippet
        [code]="directive02Example"
        language="typescript"
      >
      </app-sc-code-snippet>
    <h5>3. Directivas de atributo (Attribute directives)</h5>
    <p>Modifican apariencia o comportamiento de un elemento existente. No cambian la estructura del DOM.</p>
    <p>Siempre llevan un asterisco <code>*</code> cuando se usan.</p>
    <p>Ejemplo: ngClass, ngStyle, ngModel</p>
    <p>Ejemplo de una directiva de atributo personalizada:</p>
    <app-sc-code-snippet
        [code]="directive03Example"
        language="typescript"
      >
      </app-sc-code-snippet>
      <p>Uso:</p>
      <app-sc-code-snippet
        [code]="directive04Example"
        language="typescript"
      >
      </app-sc-code-snippet>
  </app-section>
  <!--IFSECTION-->
  <app-section
    id="'ifSection'"
    [sectionId]="'ifSection'"
    [sectionLabel]="'@if'"
    [sectionTitle]="'@if (*ngIf)'"
    [sectionContent]="''"
  >
    <p>Angular 20 depende de RxJS para muchas operaciones clave:</p>
    <h5>HTTPClient usa Observables</h5>
      <p>Cada vez que haces:</p>
      <app-sc-code-snippet
        [code]="directive02Example"
        language="typescript"
      >
      </app-sc-code-snippet>
      <p>Estás recibiendo un Observable.</p>
    <h5>Los formularios reactivos usan Observables</h5>
      <p>Los FormControls exponen <code>valueChanges</code>, <code>statusChanges</code>, etc.</p>
    <h5>El sistema de routing puede devolver Observables</h5>
      <p>Parámetros de ruta, eventos del router, etc.</p>
    <h5>Integración con Signals</h5>
      <p>En Angular 16+ llegaron los signals.</p>
      <p>En Angular 20, los signals coexisten con RxJS:</p>
      <ul>
        <li>signals: estado local reactivo</li>
        <li>RxJS: flujos complejos, asincronía, streams externos</li>
      </ul>
      <p>Hay utilidades modernas como:</p>
      <app-sc-code-snippet
        [code]="directive02Example"
        language="typescript"
      >
      </app-sc-code-snippet>
  </app-section>
  <!--CONCEPTOSPRINCIPALESSECTION-->
  <app-section
    id="'conceptosPrincipalesSection'"
    [sectionId]="'conceptosPrincipalesSection'"
    [sectionLabel]="'Conceptos Principales'"
    [sectionTitle]="'Conceptos Principales en Rxjs'"
    [sectionContent]="''"
  >
    <table class="table">
      <thead class="table-dark">
        <tr>
          <th scope="col">Concepto</th>
          <th scope="col">Descripción</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">Observable</th>
          <td>Es la fuente del flujo de datos. Emite valores (sincrónicos o asincrónicos) a lo largo del tiempo.</td>
        </tr>
        <tr>
          <th scope="row">Observer (observador)</th>
          <td>Es el "suscriptor" que recibe los valores emitidos por el Observable.</td>
        </tr>
        <tr>
          <th scope="row">Subscription (suscripción)</th>
          <td>Representa la conexión entre el Observable y el Observer; se puede cancelar con .unsubscribe().</td>
        </tr>
        <tr>
        <th scope="row">Operators (operadores)</th>
          <td>Son funciones que permiten transformar, filtrar, combinar o manipular los datos emitidos por los Observables. Ej: map, filter, mergeMap, switchMap, etc.</td>
        </tr>
        <tr>
          <th scope="row">Subject</th>
          <td>Es un tipo especial de Observable que también puede emitir valores manualmente. Actúa como Observable + Observer a la vez.</td>
        </tr>
        <tr>
          <th scope="row">Behavoir subject</th>
          <td>Similar a Subject, pero almacena el último valor emitido, de modo que los nuevos suscriptores lo reciben inmediatamente.</td>
        </tr>
      </tbody>
    </table>
    <h5>1. Observable</h5>
    <p>Es un stream de datos:</p>
    <app-sc-code-snippet
        [code]="a"
        language="typescript"
      >
    </app-sc-code-snippet>
    <p>El caracter <code>$</code> es una convención para identificar Observables.</p>
    <h5>2. Observer</h5>
    <p>Es quien "escucha" al observable:</p>
    <app-sc-code-snippet
        [code]="a"
        language="typescript"
      >
    </app-sc-code-snippet>
    <h5>3. Operators</h5>
    <p>RxJS sobresale por sus operadores (<code>pipe</code>):</p>
    <app-sc-code-snippet
        [code]="a"
        language="typescript"
      >
    </app-sc-code-snippet>
    <h5>4. Subjects</h5>
    <p>Observables multicast, ideales para compartir estado o eventos.</p>
    <app-sc-code-snippet
        [code]="a"
        language="typescript"
      >
    </app-sc-code-snippet>
  </app-section>
  <!--EJEMPLOSECTION-->
  <app-section
    id="'ejemploSection'"
    [sectionId]="'ejemploSection'"
    [sectionLabel]="'Ejemplo'"
    [sectionTitle]="'Ejemplo'"
    [sectionContent]="''"
  >
    <h5>1. Servicio (<code>users.service.ts</code>)</h5>
    <p>Retorna un observable usando HttpClient.</p>
    <app-sc-code-snippet
      [code]="a"
      language="typescript"
    >
    </app-sc-code-snippet>
    <h5>2. Componente standalone (<code>users.component.ts</code>)</h5>
    <p>El componente simplemente expone el Observable.</p>
    <app-sc-code-snippet
      [code]="a"
      language="typescript"
    >
    </app-sc-code-snippet>
  </app-section>
</app-base-page>
